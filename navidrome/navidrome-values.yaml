# Override values for navidrome.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

image:
  repository: deluan/navidrome
  tag: 0.39.0

env:
  ND_DATAFOLDER: /data
  ND_IMAGECACHESIZE: 100MB
  ND_LOGLEVEL: info
  ND_MUSICFOLDER: /music
  ND_SCANINTERVAL: 30m
  ND_TRANSCODINGCACHESIZE: 100MB

podSecurityContext:
  fsGroup: 1000
  runAsUser: 1000

service:
  type: LoadBalancer
  port: 
    port: 80
    targetPort: 4533
  loadBalancerIP: 192.168.1.64

resources: 
  limits:
    cpu: 1
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

persistence:
  config:
    enabled: true
    emptyDir: false
    mountPath: /data
    accessMode: ReadWriteOnce
    # Persistent Volume Storage Class
    storageClass: navidrome-data
    size: 1Gi
    # Do not delete the pvc upon helm uninstall
    skipuninstall: true
  music:
    enabled: true
    emptyDir: false
    mountPath: /music
    accessMode: ReadOnlyMany
    # Persistent Volume Storage Class
    storageClass: navidrome-music
    size: 100Gi
    # Do not delete the pvc upon helm uninstall
    skipuninstall: true
