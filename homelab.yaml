context: homelab

metadata:
  maintainer: "Dennis Zhang (dennis.zhang.nrg@gmail.com)"
  description: "Helmman DSF for homelab K8s"

settings:
  kubeContext: "microk8s"

namespaces:
  monitoring:
  bitwarden:
  concourse:
  folding-at-home:
  mattermost:
  syncthing:
  wireguard:
  whoogle:

helmRepos:
  concourse: https://concourse-charts.storage.googleapis.com/
  cdwv: https://cdwv.github.io/bitwarden-k8s
  grafana: https://grafana.github.io/helm-charts
  influxdata: "https://helm.influxdata.com/"
  kubernetes-dashboard: "https://kubernetes.github.io/dashboard/"
  mattermost: "https://helm.mattermost.com"
  k8s-homelab: "https://flipenergy.github.io/k8s-homelab/"
  pcktdmp: "https://pcktdmp.github.io/charts"
  place1: "https://place1.github.io/wg-access-server"

apps:
  my-k8s-dashboard:
    namespace: "monitoring"
    enabled: true
    chart: "kubernetes-dashboard/kubernetes-dashboard"
    version: "2.5.0"
    valuesFile: "kubernetes-dashboard/k8s-dashboard-values.yaml"
    wait: true
  my-kube-ops-view:
    namespace: "monitoring"
    enabled: true
    chart: "k8s-homelab/kube-ops-view"
    version: "1.3.0"
    valuesFile: "kube-ops-view/kube-ops-view-values.yaml"
    wait: true
  influxdb:
    namespace: "monitoring"
    enabled: true
    chart: "influxdata/influxdb"
    version: "4.8.4"
    valuesFile: "influxdb/influxdb-values.yaml"
    secretsFile: "influxdb/secrets.influxdb-creds.yaml"
    wait: true
    hooks:
      preInstall: "influxdb/persistencevolume.yaml"
  grafana:
    namespace: "monitoring"
    enabled: true
    chart: "grafana/grafana"
    version: "5.6.6"
    valuesFile: "grafana/grafana-values.yaml"
    secretsFile: "grafana/secrets.grafana-secrets.yaml"
    wait: true

  bitwarden:
    namespace: "bitwarden"
    enabled: true
    chart: "cdwv/bitwarden-k8s"
    version: "0.1.5"
    valuesFile: "bitwarden/bitwarden-values.yaml"
    wait: true
    hooks:
      preInstall: "bitwarden/persistencevolume.yaml"

  concourse:
    namespace: "concourse"
    enabled: true
    chart: "concourse/concourse"
    version: "12.0.2"
    valuesFile: "concourse/concourse-values.yaml"
    secretsFile: "concourse/secret.concourse-creds.yaml"
    wait: true
    hooks:
      preInstall: "concourse/persistencevolume.yaml"

  folding-at-home:
    namespace: "folding-at-home"
    enabled: false
    chart: "pcktdmp/fahclient"
    version: "2.5.4"
    valuesFile: "folding-at-home/folding-at-home-values.yaml"
    secretsFile: "folding-at-home/secrets.folding-at-home.yaml"
    wait: true

  mattermost:
    namespace: "mattermost"
    enabled: true
    chart: "mattermost/mattermost-team-edition"
    version: "3.16.0"
    valuesFile: "mattermost/mattermost-values.yaml"
    secretsFile: "mattermost/secrets.mattermost-secrets.yaml"
    wait: true
    hooks:
      preInstall: "mattermost/persistencevolumes.yaml"

  syncthing:
    namespace: "syncthing"
    enabled: true
    chart: "./syncthing"
    version: "0.1.0"
    wait: true

  wireguard:
    namespace: "wireguard"
    enabled: true
    chart: "place1/wg-access-server"
    version: "0.2.5"
    valuesFile: "wireguard/wireguard-values.yaml"
    secretsFile: "wireguard/secrets.wireguard-creds.yaml"
    wait: true
    hooks:
      preInstall: "wireguard/persistencevolume.yaml"

  whoogle:
    namespace: "whoogle"
    enabled: true
    chart: "./whoogle"
    version: "0.2.1"
    wait: true
